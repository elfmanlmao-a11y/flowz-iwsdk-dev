import{L as b,F,S as T}from"./index-CDRX2kbM.js";class P extends b{constructor(t){super(t)}load(t,e,o,h){const i=this,s=new F(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(a){const c=i.parse(JSON.parse(a));e&&e(c)},o,h)}parse(t){return new k(t)}}class k{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,e=100){const o=[],h=w(t,e,this.data);for(let i=0,s=h.length;i<s;i++)o.push(...h[i].toShapes());return o}}function w(d,t,e){const o=Array.from(d),h=t/e.resolution,i=(e.boundingBox.yMax-e.boundingBox.yMin+e.underlineThickness)*h,s=[];let a=0,c=0;for(let p=0;p<o.length;p++){const u=o[p];if(u===`
`)a=0,c-=i;else{const l=S(u,h,a,c,e);a+=l.offsetX,s.push(l.path)}}return s}function S(d,t,e,o,h){const i=h.glyphs[d]||h.glyphs["?"];if(!i){console.error('THREE.Font: character "'+d+'" does not exists in font family '+h.familyName+".");return}const s=new T;let a,c,p,u,l,y,g,x;if(i.o){const n=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let r=0,m=n.length;r<m;)switch(n[r++]){case"m":a=n[r++]*t+e,c=n[r++]*t+o,s.moveTo(a,c);break;case"l":a=n[r++]*t+e,c=n[r++]*t+o,s.lineTo(a,c);break;case"q":p=n[r++]*t+e,u=n[r++]*t+o,l=n[r++]*t+e,y=n[r++]*t+o,s.quadraticCurveTo(l,y,p,u);break;case"b":p=n[r++]*t+e,u=n[r++]*t+o,l=n[r++]*t+e,y=n[r++]*t+o,g=n[r++]*t+e,x=n[r++]*t+o,s.bezierCurveTo(l,y,g,x,p,u);break}}return{offsetX:i.ha*t,path:s}}export{k as Font,P as FontLoader};
